<ion-header>
  <ion-navbar>
    <ion-title>
      Map
    </ion-title>

    <ion-buttons end>
      <!-- <button ion-button (click)="dataProvider.loading = 1"><ion-icon name="debug"></ion-icon>Debug</button>  -->
    </ion-buttons>
  </ion-navbar>
</ion-header>
<ion-content>

  <div id="findbox"></div>
  <div id="debug" *ngIf="debug">{{debug}}</div>

  <div class="progress" *ngIf="dataProvider.innit != 100">
    <img src="assets/img/LogoMobilis.png" />

    <h3>Loading...</h3>
    <div class="progress-bar" [style.width.%]=dataProvider.innit>{{dataProvider.innit}}%</div>
  </div>

  <div id="loading" *ngIf="dataProvider.loading">
    <img src="assets/img/loading.png" />
  </div>


  <div id="mapid">
  </div>

  <ion-fab top right *ngIf="dataProvider.innit == 100">
    <button ion-fab mini><ion-icon name="add"></ion-icon></button>
    <ion-fab-list>
      <button ion-fab id="filter" (click)="showBusLines()"> <ion-icon name="list"></ion-icon></button>
      <!-- <button ion-fab id="plan" (click)="showPlanning()"> <ion-icon name="compass"></ion-icon></button> -->
    </ion-fab-list>
  </ion-fab>

  <div id="planning" *ngIf='planning.orig.latlng || planning.dest.latlng'>
    <ion-list>
      <ion-item>
        <ion-label color="primary" stacked>Origin</ion-label>
        <ion-input [(ngModel)]="planning.orig.latlng" type="text" placeholder="Origin coordenates"></ion-input>
        <button ion-button (click)="showRoute()">(My Location)</button>
      </ion-item>
      <ion-item>
        <ion-label color="primary" stacked>Destination</ion-label>
        <ion-input [(ngModel)]="planning.dest.latlng" type="text" placeholder="Destination coordenates"></ion-input>
      </ion-item>
    </ion-list>
    <button ion-button (click)="showRoute()"><ion-icon name="navigate"></ion-icon></button>
    <button ion-button (click)="cancelRoute(true)"><ion-icon name="close"></ion-icon></button>

  </div>
</ion-content>